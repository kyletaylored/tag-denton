<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3BJQSH1QEL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-3BJQSH1QEL');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tag Denton - Explore Denton Landmarks</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success">
        <div class="container">
            <a class="navbar-brand" href="#">Tag Denton</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li> -->
                </ul>
            </div>
        </div>
    </nav>

    <div class="container shadow p-4 mt-5 bg-white rounded">
        <header class="text-center mb-4">
            <h1 class="text-success">Generate Tag Denton Links</h1>
            <p>Create quick-access links to explore Denton landmarks.</p>
        </header>

        <div class="content text-center">
            <p>Paste one or more Instagram URLs (one per line) to generate Tag Denton links.</p>

            <div class="mb-3">
                <textarea id="urls" class="form-control" placeholder="Paste Instagram URLs here, one per line"
                    rows="5"></textarea>
            </div>

            <button onclick="generateLinks()" class="btn btn-success mb-3">Generate Links</button>

            <div id="multiResult" class="table-responsive"></div>
        </div>
    </div>

    <footer class="text-center mt-5 text-muted">
        <p>&copy; 2024 Tag Denton. All rights reserved.</p>
    </footer>

    <script>
        function generateLinks() {
            const urls = document.getElementById("urls").value.trim().split('\n');

            // Create table structure with Bootstrap classes
            let resultTable = `
                <table class="table table-bordered table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>Tag Denton Link</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            // Process each URL and create rows for the table
            urls.forEach((url) => {
                const match = url.trim().match(/instagram\.com\/(p|reel)\/([^\/?]+)/);
                if (match && match[2]) {
                    const postId = match[2];
                    const customLink = window.location.origin + `/redirect.php?id=${postId}`;
                    resultTable += `
                        <tr>
                            <td><a href="${customLink}" target="_blank">${customLink}</a></td>
                        </tr>
                    `;
                } else {
                    resultTable += `
                        <tr>
                            <td class="text-danger">Invalid URL: ${url}</td>
                        </tr>
                    `;
                }
            });

            resultTable += '</tbody></table>';
            document.getElementById("multiResult").innerHTML = resultTable;
        }
    </script>

    <!-- Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>